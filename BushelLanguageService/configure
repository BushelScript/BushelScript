#!/bin/bash

if [ -t 1 ]
then
	echo "Error: run ./configure from the root of the project"
	exit 1
fi

echo -e "// Generated by Bushel's ./configure script\n"

echo -e "// Configuration settings file format documentation can be found at:\n// https://help.apple.com/xcode/#/dev745c5c974\n"

LLVM_CONFIG=$(brew --prefix llvm)/bin/llvm-config
echo "LIBRARY_SEARCH_PATHS = \"$($LLVM_CONFIG --libdir)\""
echo "SYSTEM_HEADER_SEARCH_PATHS = \"$($LLVM_CONFIG --includedir)\""
echo "OTHER_LDFLAGS = \$(INHERITED) -lLLVM"
